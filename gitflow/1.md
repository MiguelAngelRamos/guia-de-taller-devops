### üåê Metodolog√≠a GitFlow 

## 0. Crear `develop` (ya lo hiciste, aqu√≠ por completitud)

```bash
git checkout main
git pull origin main               # Asegura que main est√© actualizado
git checkout -b develop            # Crea develop desde main
git push -u origin develop         # Sube develop y lo vincula al remoto
```

---

## 1Ô∏è‚É£ Feature **login-banner**

### 1.1. Crear la rama

```bash
git checkout develop
git pull                            # Asegura develop actualizado
git checkout -b feature/login-banner
```

### 1.2. Editar el archivo **welcome.blade.php**

> Ruta completa: `resources/views/welcome.blade.php`

1. Abre el archivo en tu editor.
2. Busca la primera l√≠nea `<div class="relative flex items-top ‚Ä¶">`.
3. **Inmediatamente despu√©s** pega la l√≠nea del banner:

```html
<p class="text-sm text-gray-400">üöß Versi√≥n en desarrollo</p>
```

Tu bloque deber√≠a quedar as√≠:

```html
<div class="relative flex items-top justify-center ‚Ä¶">
    <p class="text-sm text-gray-400">üöß Versi√≥n en desarrollo</p>
    <!-- resto del contenido existente -->
```

### 1.3. Guardar y hacer commit

```bash
git add resources/views/welcome.blade.php
git commit -m "feat: mostrar banner de versi√≥n en desarrollo"
git push -u origin feature/login-banner
```

*Abre un Pull Request `feature/login-banner ‚Üí develop` y apru√©balo.*
‚úîÔ∏è **Jenkins**: solo compila (imagen `test`), sin push ni despliegue.

---

## 2Ô∏è‚É£ Feature **test-db**

### 2.1. Crear la rama

```bash
git checkout develop
git pull
git checkout -b feature/test-db
```

### 2.2. A√±adir **ListTables.php**

> Ruta: `app/Console/Commands/ListTables.php`

```bash
mkdir -p app/Console/Commands
cat > app/Console/Commands/ListTables.php <<'PHP'
<?php

namespace App\Console\Commands;

use Illuminate\Console\Command;
use Illuminate\Support\Facades\Schema;

class ListTables extends Command
{
    protected $signature = 'db:list-tables';
    protected $description = 'Muestra en consola las tablas de la base de datos conectada';

    public function handle(): int
    {
        $tables = Schema::getConnection()
            ->getDoctrineSchemaManager()
            ->listTableNames();

        $this->info('Tablas encontradas (' . count($tables) . '):');
        foreach ($tables as $table) {
            $this->line(' ‚Ä¢ ' . $table);
        }

        return Command::SUCCESS;
    }
}
PHP
```

### 2.3. Registrar el comando en **Kernel.php**

> Ruta: `app/Console/Kernel.php`

Busca la propiedad `protected $commands = [ ‚Ä¶ ];` y a√±ade la clase:

```php
protected $commands = [
    \App\Console\Commands\ListTables::class,
];
```

*(Si la propiedad est√° vac√≠a, reemplaza con el fragmento anterior).*

### 2.4. Commit y push

```bash
git add app/Console/Commands/ListTables.php app/Console/Kernel.php
git commit -m "feat: comando Artisan db:list-tables"
git push -u origin feature/test-db
```

*Pull Request `feature/test-db ‚Üí develop`, aprobar y fusionar.*
‚úîÔ∏è **Jenkins**: tests + cobertura + push imagen `dev`, despliegue en puerto **8001**.

---

## 3Ô∏è‚É£ Release **v1.0.0**

### 3.1. Crear la rama

```bash
git checkout develop
git pull
git checkout -b release/v1.0.0
```

### 3.2. Actualizar **README.md**

```bash
cat >> README.md <<'MD'

## Versi√≥n 1.0.0
- Primer lanzamiento estable
MD
```

### 3.3. Editar **.env.prod**

> Ruta sugerida: `infra/.env.prod` (o `.env.prod` en la ra√≠z)

Aseg√∫rate de que contenga:

```dotenv
APP_NAME=Laravel
APP_ENV=production
APP_DEBUG=false
```

*(Si el archivo no existe, cr√©alo copiando `.env` y luego ajusta los valores).*

### 3.4. Commit y push

```bash
git add README.md infra/.env.prod
git commit -m "chore(release): preparar versi√≥n 1.0.0"
git push -u origin release/v1.0.0
```

*Pull Request `release/v1.0.0 ‚Üí main`.*

‚úîÔ∏è **Jenkins (release)**: tests + cobertura, imagen tag `1.0.0` (sin despliegue).

### 3.5. Completar la release

Despu√©s de aprobar:

```bash
# (en GitHub) Merge PR a main
git checkout develop
git pull origin develop
git merge --no-ff main           # Mant√©n develop sincronizado
git push origin develop
```

‚úîÔ∏è **Jenkins (main)**: build + push tag `prod` + despliegue puerto **8000** + migraciones.

---

## 4Ô∏è‚É£ Hotfix **fix-typo**

### 4.1. Crear la rama

```bash
git checkout main
git pull
git checkout -b hotfix/fix-typo
```

### 4.2. Corregir archivo **routes/web.php**

Supongamos que encuentras:

```php
Route::get('/welcom', function () {
    return view('welcome');
});
```

Corr√≠gelo a:

```php
Route::get('/welcome', function () {
    return view('welcome');
});
```

### 4.3. Commit y push

```bash
git add routes/web.php
git commit -m "hotfix: corregir ruta /welcome"
git push -u origin hotfix/fix-typo
```

*Pull Request `hotfix/fix-typo ‚Üí main`, aprobar.*

‚úîÔ∏è **Jenkins (hotfix)**: build + push (`hotfix-fix-typo`) + despliegue directo a prod (puerto 8000).

### 4.4. Sincronizar develop

```bash
git checkout develop
git pull
git merge --no-ff main
git push origin develop
```

---
